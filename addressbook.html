<!DOCTYPE html>
<html>
<head>
<style>
.selected {
  background-color: blue;
  color: white;
}
#contactList td {
  cursor: pointer;
}
</style>
</head>
<body onload="AB.init()">

<script type="application/javascript;version=1.8" src="contacts.js"></script>
<script type="application/javascript;version=1.8" src="addressbook.js"></script>

<div>
  <label for="filter">Search Addressbook:</label>
  <input type="text" id="filter" onkeyup="return AB.onFilterKeyUp(event);">
  <button id="clearFilterButton" onclick="return AB.clearFilter();">X</button>
  <button id="newContactButton" onclick="return AB.newContactForm();">
    Create new contact
  </button>
</div>
<p id="errorMsg"></p>

<div style="display: -moz-box; -moz-box-orient: horizontal">
  <!-- XXX semantically I'm using this like a <ul> right now -->
  <table id="contactList" onclick="return AB.onContactListClick(event);">
    <tbody>
      <!-- Dynamically created content goes here. -->
    </tbody>
  </table>

  <section id="contactView" style="display: none;">
    <h1 id="view.displayName">Ohai there</h1>

    <h2>Phone</h2>
    <table id="view.phoneNumbers">
      <tbody>
        <!-- Dynamically created content goes here. -->
      </tbody>
    </table>

    <h2>Email</h2>
    <table id="view.emails">
      <tbody>
        <!-- Dynamically created content goes here. -->
      </tbody>
    </table>

    <h2>IM</h2>
    <table id="view.ims">
      <tbody>
        <!-- Dynamically created content goes here. -->
      </tbody>
    </table>

    <h2>Addresses</h2>
    <table id="view.addresses">
      <tbody>
        <!-- Dynamically created content goes here. -->
      </tbody>
    </table>

    <h2>Websites</h2>
    <table id="view.urls">
      <tbody>
        <!-- Dynamically created content goes here. -->
      </tbody>
    </table>

    <h2>Birthday</h2>
    <p id="view.birthday"></id>

    <h2>Note</h2>
    <pre id="view.note"></pre>

    <div>
      <button onclick="return AB.deleteContact();">Delete</button>
      <button onclick="return AB.editContact();">Edit</button>
    </div>
  </section>

  <form id="contactEdit"
        style="width: 300px; display: none;">
    <!-- Name stuff -->
    <fieldset name="name">
      <input type="text" id="edit.name.givenName" placeholder="First name">
      <input type="text" id="edit.name.familyName" placeholder="Surname">
      <!-- TODO expandy thingy for other attributes -->
    </fieldset>
    <fieldset name="phoneNumbers" id="edit.fieldset.phoneNumbers">
      <!-- Dynamically created content goes here. -->
      <button id="edit.phoneNumbers.add" onclick="return AB.newSimpleListEntry('phoneNumbers');">+</button>
    </fieldset>
    <fieldset name="emails" id="edit.fieldset.emails">
      <!-- Dynamically created content goes here. -->
      <button id="edit.emails.add" onclick="return AB.newSimpleListEntry('emails');">+</button>
    </fieldset>
    <fieldset name="ims" id="edit.fieldset.ims">
      <!-- Dynamically created content goes here. -->
      <button id="edit.ims.add" onclick="return AB.newSimpleListEntry('ims');">+</button>
    </fieldset>
    <fieldset name="addresses" id="edit.fieldset.addresses">
      <!-- TODO this can't be a simple list entry -->
      <!-- Dynamically created content goes here. -->
      <button id="edit.addresses.add" onclick="return AB.newSimpleListEntry(addresses');">+</button>
    </fieldset>
    <fieldset name="urls" id="edit.fieldset.urls">
      <!-- Dynamically created content goes here. -->
      <button id="edit.urls.add" onclick="return AB.newSimpleListEntry('urls');">+</button>
    </fieldset>
    <!-- XXX gecko doesn't support type="date" yet :( -->
    <input type="date" id="edit.birthday" placeholder="Birthday">
    <textarea id="edit.note" placeholder="Notes"></textarea>
    <div>
      <button onclick="return AB.cancelContactEditForm();">Cancel</button>
      <button onclick="return AB.saveContact();">Save</button>
    </div>
</form>

</div>

<footer>
  <a href="fbimport.html">Import Facebook friends</a>
</footer>

</body>
</html>
